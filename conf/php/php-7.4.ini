; PHP 7.4 Configuration
; This file contains PHP settings for PHP 7.4
; Settings marked with (ENV) will be overridden by environment variables

[PHP]
;;;;;;;;;;;;;;;;;;;
; Resource Limits ;
;;;;;;;;;;;;;;;;;;;

; Maximum amount of memory a script may consume (ENV)
memory_limit = 512M

; Maximum execution time of each script, in seconds (ENV)
max_execution_time = 300

; Maximum time to spend parsing request data
max_input_time = 60

; Maximum number of input variables
max_input_vars = 3000

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Error handling and logging ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; Error reporting level
; Development: E_ALL
; Production: E_ALL & ~E_DEPRECATED & ~E_STRICT
error_reporting = E_ALL

; Display errors to browser (disable in production)
display_errors = On
display_startup_errors = On

; Log errors to file
log_errors = On
error_log = /var/log/lamp/php-7.4.log

; Ignore repeated errors
ignore_repeated_errors = Off

;;;;;;;;;;;;;;;;;
; Data Handling ;
;;;;;;;;;;;;;;;;;

; Maximum size of POST data (ENV)
post_max_size = 128M

; Default MIME type
default_mimetype = "text/html"

; Default charset
default_charset = "UTF-8"

;;;;;;;;;;;;;;;;
; File Uploads ;
;;;;;;;;;;;;;;;;

; Allow file uploads
file_uploads = On

; Maximum size of uploaded files (ENV)
upload_max_filesize = 128M

; Maximum number of files that can be uploaded in one request
max_file_uploads = 20

; Temporary directory for file uploads
upload_tmp_dir = /tmp

;;;;;;;;;;;;;;;;;;;
; MySQLi Settings ;
;;;;;;;;;;;;;;;;;;;

mysqli.max_persistent = -1
mysqli.allow_persistent = On
mysqli.max_links = -1
mysqli.default_port = 3306
mysqli.default_socket =
mysqli.default_host =
mysqli.default_user =
mysqli.default_pw =
mysqli.reconnect = Off

;;;;;;;;;;;;;;;;;;;;
; Session Settings ;
;;;;;;;;;;;;;;;;;;;;

; Handler used to store/retrieve data
session.save_handler = files

; Directory where session files are stored
session.save_path = "/var/lib/php/sessions"

; Use cookies for session
session.use_cookies = 1
session.use_only_cookies = 1

; Name of the session cookie
session.name = PHPSESSID

; Cookie lifetime (0 = until browser closes)
session.cookie_lifetime = 0

; Cookie path
session.cookie_path = /

; Cookie domain
session.cookie_domain =

; Cookie security flags
session.cookie_httponly = 1
session.cookie_samesite = Lax

; Session cache settings
session.cache_limiter = nocache
session.cache_expire = 180

; Garbage collection
session.gc_probability = 1
session.gc_divisor = 1000
session.gc_maxlifetime = 1440

;;;;;;;;;;;;;;;;;;
; Module Settings;
;;;;;;;;;;;;;;;;;;

[Date]
; Timezone setting
date.timezone = UTC

[mbstring]
; Enable mbstring
mbstring.language = neutral
mbstring.internal_encoding = UTF-8
mbstring.http_input =
mbstring.http_output =
mbstring.encoding_translation = Off

[opcache]
; OPcache settings
opcache.enable = 1
opcache.enable_cli = 0
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.validate_timestamps = 1
opcache.revalidate_freq = 2
opcache.save_comments = 1

[curl]
; Default CA bundle path
curl.cainfo =

[openssl]
; Default CA path
openssl.cafile =
openssl.capath =

[mysqlnd]
; MySQL Native Driver settings
mysqlnd.collect_statistics = On
mysqlnd.collect_memory_statistics = On
